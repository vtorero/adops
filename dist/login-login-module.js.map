{"version":3,"sources":["webpack:///./src/app/+login/login-routing.module.ts","webpack:///./src/app/+login/login.component.css","webpack:///./src/app/+login/login.component.html","webpack:///./src/app/+login/login.component.ts","webpack:///./src/app/+login/login.module.ts","webpack:///./src/app/modelos/usuario.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAyC;AACc;AAEJ;AAEnD,IAAM,MAAM,GAAW,CAAC;QACtB,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,+DAAc;KAC1B,CAAC,CAAC;AAMH;IAAA;IAAkC,CAAC;IAAtB,kBAAkB;QAJ9B,8DAAQ,CAAC;YACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;SACxB,CAAC;OACW,kBAAkB,CAAI;IAAD,yBAAC;CAAA;AAAJ;;;;;;;;;;;;ACd/B,+BAA+B,uBAAuB,uBAAuB,KAAK,mDAAmD,mW;;;;;;;;;;;ACArI,2vD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACA4D;AACrB;AACgB;AACZ;AACqB;AACN;AAW1D;IAKA,wBAAoB,MAAa,EAAS,KAAkB;QAAxC,WAAM,GAAN,MAAM,CAAO;QAAS,UAAK,GAAL,KAAK,CAAa;QAC1D,IAAI,CAAC,OAAO,GAAE,IAAI,wDAAO,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC;QACjC,IAAI,CAAC,UAAU,GAAC,KAAK,CAAC;IACvB,CAAC;IAED,kCAAS,GAAT;QAAA,iBAyBE;QAxBC,KAAK,CAAC,cAAc,EAAE,CAAC;QAEvB,IAAG,IAAI,CAAC,OAAO,CAAC,OAAO,EAAC;YAClB,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,cAAI;gBAC7E,IAAG,IAAI,CAAC,MAAM,CAAC,IAAE,CAAC,EAAE;oBAClB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC7B,YAAY,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC;oBACvC,YAAY,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC;oBACzC,YAAY,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC;oBACzC,YAAY,CAAC,UAAU,CAAC,gBAAgB,CAAC,CAAC;oBAC1C,YAAY,CAAC,OAAO,CAAC,aAAa,EAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;oBAC/D,YAAY,CAAC,OAAO,CAAC,eAAe,EAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;oBAChE,YAAY,CAAC,OAAO,CAAC,eAAe,EAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;oBAChE,YAAY,CAAC,OAAO,CAAC,gBAAgB,EAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;oBAClE,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;iBAEhC;qBAAI;oBACH,KAAI,CAAC,UAAU,GAAG,IAAI,CAAC;oBACvB,OAAO,CAAC,GAAG,CAAC,KAAI,CAAC,UAAU,CAAC;iBAC7B;YAEH,CAAC,CAAC,CAAC;SACR;QACL,iCAAiC;IAC/B,CAAC;IAED,iCAAQ,GAAR;IAEF,CAAC;IAvCY,cAAc;QAT1B,8DAAQ,CAAC;YACR,OAAO,EAAO,CAAC,uEAAa,EAAC,0DAAW,EAAC,kEAAmB,CAAC;SAC9D,CAAC;QAED,+DAAS,CAAC;YACT,QAAQ,EAAE,WAAW;YACrB,oGAAqC;;SAEtC,CAAC;yCAMyB,sDAAM,EAAe,oEAAY;OAL/C,cAAc,CAwC1B;IAAD,qBAAC;CAAA;AAxC0B;;;;;;;;;;;;;;;;;;;;;;;;;;AChBc;AACM;AACF;AAEe;AACT;AASnD;IAAA;IAA2B,CAAC;IAAf,WAAW;QAPvB,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY,EAAC,0DAAW;gBACxB,wEAAkB;aACnB;YACD,YAAY,EAAE,CAAC,+DAAc,CAAC;SAC/B,CAAC;OACW,WAAW,CAAI;IAAD,kBAAC;CAAA;AAAJ;;;;;;;;;;;;;ACdxB;AAAA;AAAA;IACI,iBACW,OAAc,EACd,QAAe;QADf,YAAO,GAAP,OAAO,CAAO;QACd,aAAQ,GAAR,QAAQ,CAAO;IACxB,CAAC;IACP,cAAC;AAAD,CAAC","file":"login-login-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { LoginComponent } from './login.component';\r\n\r\nconst routes: Routes = [{\r\n  path: '',\r\n  component: LoginComponent\r\n}];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class LoginRoutingModule { }\r\n","module.exports = \".login-page {\\r\\n  overflow: hidden;\\r\\n  min-height: 100%;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvK2xvZ2luL2xvZ2luLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxnQkFBZ0I7RUFDaEIsZ0JBQWdCO0FBQ2xCIiwiZmlsZSI6InNyYy9hcHAvK2xvZ2luL2xvZ2luLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubG9naW4tcGFnZSB7XHJcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICBtaW4taGVpZ2h0OiAxMDAlO1xyXG59XHJcbiJdfQ== */\"","module.exports = \"<div class=\\\"hold-transition login-page\\\">\\r\\n  <div class=\\\"login-box\\\">\\r\\n    <div class=\\\"login-logo\\\">\\r\\n      \\r\\n        <img src=\\\"/assets/img/logo-adops.png\\\"/><br>\\r\\n        <!--<b>Adops </b>Exchange-->\\r\\n    </div>\\r\\n    <!-- /.login-logo -->\\r\\n    <div class=\\\"login-box-body\\\">\\r\\n      <!--<p class=\\\"login-box-msg\\\">Ingresar para iniciar sesión</p>-->\\r\\n\\r\\n      <form #formData=\\\"ngForm\\\" (ngSubmit)=\\\"loginUser()\\\">\\r\\n        <div class=\\\"form-group has-feedback\\\">\\r\\n          <div *ngIf=\\\"error_user\\\"> Error de acceso</div>\\r\\n          <input type=\\\"text\\\" name=\\\"usuario\\\" #usuario.usuario=\\\"ngModel\\\" [(ngModel)]=\\\"usuario.usuario\\\"  class=\\\"form-control\\\" placeholder=\\\"Usuario\\\">\\r\\n          <span class=\\\"glyphicon glyphicon-envelope form-control-feedback\\\"></span>\\r\\n        </div>\\r\\n        <div class=\\\"form-group has-feedback\\\">\\r\\n          <input type=\\\"password\\\" name=\\\"password\\\" #usuario.password=\\\"ngModel\\\" [(ngModel)]=\\\"usuario.password\\\"  class=\\\"form-control\\\" placeholder=\\\"Password\\\">\\r\\n          <span class=\\\"glyphicon glyphicon-lock form-control-feedback\\\"></span>\\r\\n        </div>\\r\\n        <div class=\\\"row\\\"> \\r\\n          <!-- /.col -->\\r\\n          <div class=\\\"col-xs-4\\\">\\r\\n            <button type=\\\"submit\\\" class=\\\"btn btn-primary btn-block btn-flat\\\">Ingresar</button>\\r\\n          </div>\\r\\n          <!-- /.col -->\\r\\n        </div>\\r\\n      </form>\\r\\n\\r\\n      <div class=\\\"social-auth-links text-center\\\">\\r\\n    \\r\\n     \\r\\n      </div>\\r\\n      <!-- /.social-auth-links -->\\r\\n\\r\\n      <a href=\\\"\\\">Olvide mi contraseña</a><br>\\r\\n      <!--<a routerLink=\\\"/register\\\" class=\\\"text-center\\\">Registrarme</a>-->\\r\\n\\r\\n    </div>\\r\\n    <!-- /.login-box-body -->\\r\\n  </div>\\r\\n</div>\\r\\n\"","import { Component, OnInit, NgModule } from '@angular/core';\r\nimport {Router} from '@angular/router';\r\nimport {LoginService} from '../services/login.service';\r\nimport {Usuario} from '../modelos/usuario';\r\nimport { FormsModule,ReactiveFormsModule} from '@angular/forms';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\n\r\n@NgModule({\r\n  imports:      [BrowserModule,FormsModule,ReactiveFormsModule],\r\n})\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css']\r\n})\r\nexport class LoginComponent implements OnInit {\r\npublic usuario :Usuario;\r\npublic error_user:boolean;\r\ndato:any;\r\n\r\nconstructor(private router:Router,private login:LoginService) {\r\n  this.usuario= new Usuario(\"\",\"\");\r\n  this.error_user=false;\r\n }\r\n\r\n loginUser(){\r\n    event.preventDefault();\r\n    \r\n    if(this.usuario.usuario){\r\n          this.login.loginUser(this.usuario.usuario,this.usuario.password).subscribe(data=>{\r\n            if(data['rows']==1) {\r\n              console.log(data['data'][0]);\r\n              localStorage.removeItem(\"currentUser\");\r\n              localStorage.removeItem(\"currentNombre\");\r\n              localStorage.removeItem(\"currentAvatar\");\r\n              localStorage.removeItem(\"currentEmpresa\"); \r\n              localStorage.setItem(\"currentUser\",data['data'][0]['usuario']);\r\n              localStorage.setItem(\"currentNombre\",data['data'][0]['nombre']);\r\n              localStorage.setItem(\"currentAvatar\",data['data'][0]['imagen']);\r\n              localStorage.setItem(\"currentEmpresa\",data['data'][0]['empresa']);\r\n              this.router.navigate(['dash']);\r\n\r\n            }else{\r\n              this.error_user = true;\r\n              console.log(this.error_user)\r\n            }\r\n            \r\n          });\r\n    }\r\n//this.router.navigate(['dash']);\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n}\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { LoginRoutingModule } from './login-routing.module';\r\nimport { LoginComponent } from './login.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,FormsModule,\r\n    LoginRoutingModule\r\n  ],\r\n  declarations: [LoginComponent]\r\n})\r\nexport class LoginModule { }\r\n","export class Usuario{\n    constructor(\n        public usuario:string,\n        public password:string,\n    ){}\n}"],"sourceRoot":""}